<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contato | Maycon Brown</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDrt1bbLUjT8uzILn_cLgeRSDdMAM2ZHmI",
    authDomain: "mayconbrown-bda8c.firebaseapp.com",
    projectId: "mayconbrown-bda8c",
    storageBucket: "mayconbrown-bda8c.firebasestorage.app",
    messagingSenderId: "226624962636",
    appId: "1:226624962636:web:410ad40aa6099ca57474e9",
    measurementId: "G-Y1BTTK576V"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>
</head>
<body class="bg-gray-50 text-gray-800">

  <main class="py-16">
    <div class="container mx-auto px-4 max-w-lg">
      <h2 class="text-3xl font-bold mb-6 text-center">Fale Conosco</h2>
      <p class="text-black mb-8 text-center">
        Entre em contato para dúvidas, orçamentos ou informações.
      </p>

      <form id="contatoForm" class="bg-[url('img/fundo.png')] shadow-lg rounded-xl p-6 space-y-6">
        <div>
          <label for="nome" class="block text-white mb-1 font-semibold">Nome</label>
          <input type="text" id="nome" required class="w-full border rounded-md px-3 py-2" />
        </div>

        <div>
          <label for="email" class="block text-white mb-1 font-semibold">Email</label>
          <input type="email" id="email" required class="w-full border rounded-md px-3 py-2" />
        </div>

        <div>
          <label for="whatsapp" class="block text-white mb-1 font-semibold">Whatsapp</label>
          <input type="text" id="whatsapp" required class="w-full border rounded-md px-3 py-2" />
        </div>

        <div>
          <label for="mensagem" class="block text-white mb-1 font-semibold">Mensagem</label>
          <textarea id="mensagem" rows="5" required class="w-full border rounded-md px-3 py-2"></textarea>
        </div>

        <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-full hover:bg-indigo-700 transition">
          Enviar Mensagem
        </button>

        <p id="status" class="text-center mt-4 font-medium"></p>
      </form>
    </div>
  </main>

  <script>
    document.getElementById("contatoForm").addEventListener("submit", async function (e) {
      e.preventDefault();
      const status = document.getElementById("status");
      status.textContent = "Enviando...";

      const dados = {
        nome: document.getElementById("nome").value,
        email: document.getElementById("email").value,
        whatsapp: document.getElementById("whatsapp").value,
        mensagem: document.getElementById("mensagem").value,
        data: new Date().toISOString()
      };

      try {
        await db.collection("contatos").add(dados);
        status.textContent = "Mensagem enviada com sucesso!";
        status.classList.add("text-green-600");
        document.getElementById("contatoForm").reset();
      } catch (erro) {
        status.textContent = "Erro ao enviar mensagem. Tente novamente.";
        status.classList.add("text-red-600");
        console.error("Erro:", erro);
      }
    });
  </script>
</body>
</html>